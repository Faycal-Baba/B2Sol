THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.6,(_f(20) & _f(21) & _f(22) & _f(93) & _f(75) & _f(76) & _f(77) & _f(94) => _f(96));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.5,(_f(20) & _f(21) & _f(22) & _f(93) & _f(75) & _f(76) & _f(77) & _f(94) => _f(95));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.4,(_f(20) & _f(21) & _f(22) & _f(93) & _f(75) & _f(76) & _f(94) => _f(96));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.3,(_f(20) & _f(21) & _f(22) & _f(93) & _f(75) & _f(76) & _f(94) => _f(95));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.2,(_f(20) & _f(21) & _f(22) & _f(93) & _f(94) => _f(96));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & _f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(91) & _f(92) & _f(74) & WellDefinedness_giftToFirst100Depositers.1,(_f(20) & _f(21) & _f(22) & _f(93) & _f(94) => _f(95));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.9,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(79) & _f(88) => _f(90));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.8,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(79) & _f(88) => _f(89));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.7,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(76) & _f(77) & _f(78) & _f(86) => _f(87));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.6,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(84) => _f(85));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.5,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(76) & _f(77) & _f(78) & _f(82) => _f(83));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.4,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(75) & _f(76) & _f(77) & _f(32) => _f(78));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.3,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(20) & _f(21) & _f(22) & _f(16) & _f(80) => _f(81));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.2,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(32) => _f(16));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_giftToFirst100Depositers.1,(_f(14) & _f(70) & _f(23) & _f(71) & _f(72) & _f(18) & _f(73) & _f(74) & _f(32) => _f(22));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_transferFrom.2,(_f(14) & _f(59) & _f(60) & _f(44) & _f(61) & _f(62) & _f(63) & _f(64) & _f(65) & _f(66) & _f(67) & _f(20) & _f(68) & _f(9) => _f(69));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_transferFrom.1,(_f(14) & _f(59) & _f(60) & _f(44) & _f(61) & _f(62) & _f(63) & _f(64) & _f(65) & _f(66) & _f(67) & _f(20) & _f(32) => _f(68));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_approve.1,(_f(14) & _f(52) & _f(44) & _f(58) & _f(32) => _f(49));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_transferTo.1,(_f(14) & _f(52) & _f(44) & _f(53) & _f(50) & _f(54) & _f(55) & _f(20) & _f(56) & _f(9) => _f(57));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_withdraw.4,(_f(14) & _f(44) & _f(45) & _f(46) & _f(47) & _f(20) & _f(21) & _f(48) & _f(49) & _f(50) & _f(9) => _f(51));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_withdraw.3,(_f(14) & _f(44) & _f(45) & _f(46) & _f(47) & _f(20) & _f(21) & _f(48) & _f(49) & _f(32) => _f(50));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_withdraw.2,(_f(14) & _f(44) & _f(45) & _f(46) & _f(47) & _f(20) & _f(32) => _f(49));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_withdraw.1,(_f(14) & _f(44) & _f(45) & _f(46) & _f(47) & _f(20) & _f(32) => _f(48));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.18,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) & _f(30) & _f(9) => _f(33));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.17,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) & _f(28) & _f(25) & _f(29) & _f(9) => _f(43));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.16,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) & _f(28) & _f(25) & _f(29) & _f(9) => _f(42));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.15,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) & _f(28) & _f(25) & _f(29) & _f(9) => _f(41));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.14,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) & _f(28) & _f(25) & _f(29) & _f(9) => _f(33));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.13,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(40));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.12,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(39));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.11,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(35));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.10,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(34));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.9,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(38));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.8,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(30) & _f(9) => _f(33));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.7,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(28) & _f(29) & _f(9) => _f(37));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.6,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(28) & _f(29) & _f(9) => _f(36));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.5,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(28) & _f(29) & _f(9) => _f(35));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.4,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(28) & _f(29) & _f(9) => _f(34));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.3,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(25) & _f(26) & _f(27) & _f(28) & _f(29) & _f(9) => _f(33));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.2,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(32) => _f(23));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & _f(12) & _f(13) & Operation_deposit.1,(_f(14) & _f(15) & _f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(32) => _f(22));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & Initialisation.2,(_f(5) & _f(6) & _f(7) & _f(8) & _f(9) => _f(11));
_f(1) & _f(2) & _f(3) & _f(3) & _f(4) & Initialisation.1,(_f(5) & _f(6) & _f(7) & _f(8) & _f(9) => _f(10))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..6)*{ADDRESS}): FIN(NATURAL*{ADDRESS})& not(((1..6)*{ADDRESS}) = {}) & BYTES: FIN(INTEGER) & not(BYTES = {}) & ((USERS) = ((((1..6)*{ADDRESS}) - ({(2|->ADDRESS)}\/{(1|->ADDRESS)})))) & ((init_msg_sender) : (USERS)) & ((init_msg_value) : (NAT)) & ((init_block_timestamp) : (NAT));
((manager_) : (USERS));
balanceOf$1 : ((1..6)*{ADDRESS}) +-> NAT & dom(balanceOf$1) = ((1..6)*{ADDRESS}) & ((balanceOf$1) : (((((1..6)*{ADDRESS})) --> (NAT)))) & accountOf$1 : ((1..6)*{ADDRESS}) +-> NAT & dom(accountOf$1) = ((1..6)*{ADDRESS}) & ((accountOf$1) : (((((1..6)*{ADDRESS})) --> (NAT)))) & allowanceOf$1 : ((1..6)*{ADDRESS}) +-> ((((1..6)*{ADDRESS})) --> (NAT)) & dom(allowanceOf$1) = ((1..6)*{ADDRESS}) & ((allowanceOf$1) : (((((1..6)*{ADDRESS})) --> (((((1..6)*{ADDRESS})) --> (NAT)))))) & depositedOver_100$1 : ((1..6)*{ADDRESS}) +-> BOOL & dom(depositedOver_100$1) = ((1..6)*{ADDRESS}) & ((depositedOver_100$1) : (((((1..6)*{ADDRESS})) --> (BOOL))));
balanceOf : ((1..6)*{ADDRESS}) +-> NAT & dom(balanceOf) = ((1..6)*{ADDRESS}) & ((balanceOf) : (((((1..6)*{ADDRESS})) --> (NAT))));
allowanceOf : ((1..6)*{ADDRESS}) +-> ((((1..6)*{ADDRESS})) --> (NAT)) & dom(allowanceOf) = ((1..6)*{ADDRESS}) & ((allowanceOf) : (((((1..6)*{ADDRESS})) --> (((((1..6)*{ADDRESS})) --> (NAT))))));
(((1..6)*{ADDRESS}) * ({0})) : ((1..6)*{ADDRESS}) +-> NAT & dom((((1..6)*{ADDRESS}) * ({0}))) = ((1..6)*{ADDRESS}) & (((((1..6)*{ADDRESS}) * ({0}))) : (((((1..6)*{ADDRESS})) --> (NAT))));
(((1..6)*{ADDRESS}) * ({FALSE})) : ((1..6)*{ADDRESS}) +-> BOOL & dom((((1..6)*{ADDRESS}) * ({FALSE}))) = ((1..6)*{ADDRESS}) & (((((1..6)*{ADDRESS}) * ({FALSE}))) : (((((1..6)*{ADDRESS})) --> (BOOL))));
"Refinement is correct";
((0) : (NAT));
(((((0) .. (2147483647)) * ({(1|->ADDRESS)}))) : (((((0) .. (2147483647))) --> (((1..6)*{ADDRESS})))));
((donated) : (BOOL)) & ((index) : (NAT)) & depositors : ((0) .. (2147483647)) +-> ((1..6)*{ADDRESS}) & dom(depositors) = ((0) .. (2147483647)) & ((depositors) : (((((0) .. (2147483647))) --> (((1..6)*{ADDRESS}))))) & ((manager) : (USERS)) & (SIGMA(ct).(((ct) : (dom(accountOf))) | (accountOf )(ct)) <= (balanceOf )((2|->ADDRESS))) & balanceOf : ((1..6)*{ADDRESS}) +-> NAT & dom(balanceOf) = ((1..6)*{ADDRESS}) & ((balanceOf) : (((((1..6)*{ADDRESS})) --> (NAT)))) & accountOf : ((1..6)*{ADDRESS}) +-> NAT & dom(accountOf) = ((1..6)*{ADDRESS}) & ((accountOf) : (((((1..6)*{ADDRESS})) --> (NAT)))) & allowanceOf : ((1..6)*{ADDRESS}) +-> ((((1..6)*{ADDRESS})) --> (NAT)) & dom(allowanceOf) = ((1..6)*{ADDRESS}) & ((allowanceOf) : (((((1..6)*{ADDRESS})) --> (((((1..6)*{ADDRESS})) --> (NAT)))))) & depositedOver_100 : ((1..6)*{ADDRESS}) +-> BOOL & dom(depositedOver_100) = ((1..6)*{ADDRESS}) & ((depositedOver_100) : (((((1..6)*{ADDRESS})) --> (BOOL))));
((balanceOf) = (balanceOf$1)) & ((accountOf) = (accountOf$1)) & ((allowanceOf) = (allowanceOf$1)) & ((depositedOver_100) = (depositedOver_100$1)) & ((donated_i$1) : (BOOL)) & ((index_i$1) : (NAT)) & depositors_i$1 : ((0) .. (2147483647)) +-> ((1..6)*{ADDRESS}) & dom(depositors_i$1) = ((0) .. (2147483647)) & ((depositors_i$1) : (((((0) .. (2147483647))) --> (((1..6)*{ADDRESS}))))) & ((manager_i$1) : (USERS)) & ((manager_i$1) = (manager)) & ((depositors) = (depositors_i$1)) & ((index_i$1) = (index));
((msg_sender) : (USERS));
((msg_value) : ((NAT-{0})));
((((balanceOf$1 )(msg_sender) - msg_value)) : (NAT));
((((accountOf$1 )(msg_sender) + msg_value)) : (NAT));
((((balanceOf$1 )((2|->ADDRESS)) + msg_value)) : (NAT));
(((index + 1)) : (NAT));
((msg_sender) : (((1..6)*{ADDRESS})));
(((2|->ADDRESS)) : (((1..6)*{ADDRESS})));
not((((2|->ADDRESS)) = (msg_sender)));
((msg_value) : (NAT));
(100 +1 <= (((accountOf$1) <+ (({((msg_sender) |-> (((accountOf$1 )(msg_sender) + msg_value)))}))) )(msg_sender));
(((depositedOver_100$1 )(msg_sender)) = (FALSE));
(index_i$1 +1 <= 100);
((TRUE) : (BOOL));
(100 <= ((accountOf$1 )(msg_sender) + msg_value));
(index +1 <= 100);
not((100 <= ((accountOf$1 )(msg_sender) + msg_value)) & (((depositedOver_100$1 )(msg_sender)) = (FALSE)) & (index +1 <= 100));
not((100 +1 <= (((accountOf$1) <+ (({((msg_sender) |-> (((accountOf$1 )(msg_sender) + msg_value)))}))) )(msg_sender)) & (((depositedOver_100$1 )(msg_sender)) = (FALSE)) & (index_i$1 +1 <= 100));
"Precondition predicate";
((((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))})))) <+ (({((msg_sender) |-> (((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))}))) )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))}))) )((2|->ADDRESS)) + msg_value)))})))) = (balanceOf$1));
(((index_i$1 + 1)) : (NAT));
((((depositors_i$1) <+ (({((index_i$1) |-> (msg_sender))})))) : (((((0) .. (2147483647))) --> (((1..6)*{ADDRESS})))));
((((depositors) <+ (({((index) |-> (msg_sender))})))) = (((depositors_i$1) <+ (({((index_i$1) |-> (msg_sender))})))));
(((index_i$1 + 1)) = ((index + 1)));
((depositedOver_100$1) = (((depositedOver_100$1) <+ (({((msg_sender) |-> (TRUE))})))));
((depositors) = (((depositors_i$1) <+ (({((index_i$1) |-> (msg_sender))})))));
(((index_i$1 + 1)) = (index));
((((depositedOver_100$1) <+ (({((msg_sender) |-> (TRUE))})))) = (depositedOver_100$1));
((((depositors) <+ (({((index) |-> (msg_sender))})))) = (depositors_i$1));
((index_i$1) = ((index + 1)));
((amount) : ((NAT-{0})));
(amount <= (accountOf$1 )(msg_sender));
((((balanceOf$1 )(msg_sender) + amount)) : (NAT));
((((balanceOf$1 )((2|->ADDRESS)) - amount)) : (NAT));
not(((msg_sender) = ((2|->ADDRESS))));
((amount) : (NAT));
((((accountOf$1 )(msg_sender) - amount)) : (NAT));
((((((balanceOf$1) <+ (({(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) - amount)))}\/{((msg_sender) |-> (((balanceOf$1 )(msg_sender) + amount)))})))) <+ (({(((2|->ADDRESS)) |-> (((((balanceOf$1) <+ (({(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) - amount)))}\/{((msg_sender) |-> (((balanceOf$1 )(msg_sender) + amount)))}))) )((2|->ADDRESS)) - amount)))}\/{((msg_sender) |-> (((((balanceOf$1) <+ (({(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) - amount)))}\/{((msg_sender) |-> (((balanceOf$1 )(msg_sender) + amount)))}))) )(msg_sender) + amount)))})))) = (balanceOf$1));
((dst) : (USERS));
(amount +1 <= (accountOf$1 )(msg_sender));
not(((msg_sender) = (dst)));
((((accountOf$1 )(dst) + amount)) : (NAT));
((dst) : (((1..6)*{ADDRESS})));
((((accountOf$1) <+ (({((msg_sender) |-> (((accountOf$1 )(msg_sender) - amount)))}\/{((dst) |-> (((accountOf$1 )(dst) + amount)))})))) = (((((accountOf$1) <+ (({((msg_sender) |-> (((accountOf$1 )(msg_sender) - amount)))})))) <+ (({((dst) |-> (((accountOf$1 )(dst) + amount)))})))));
not(((dst) = (msg_sender)));
((sender) : (USERS));
((recipient) : (USERS));
not(((sender) = (recipient)));
(amount <= ((allowanceOf$1 )(sender) )(msg_sender));
(amount <= (accountOf$1 )(sender));
((((accountOf$1 )(recipient) + amount)) : (NAT));
(((((allowanceOf$1 )(sender) )(msg_sender) - amount)) : (NAT));
((sender) : (((1..6)*{ADDRESS})));
((recipient) : (((1..6)*{ADDRESS})));
((((accountOf$1 )(sender) - amount)) : (NAT));
((((accountOf$1) <+ (({((recipient) |-> (((accountOf$1 )(recipient) + amount)))}\/{((sender) |-> (((accountOf$1 )(sender) - amount)))})))) = (((((accountOf$1) <+ (({((sender) |-> (((accountOf$1 )(sender) - amount)))})))) <+ (({((recipient) |-> (((accountOf$1 )(recipient) + amount)))})))));
((msg_sender) = (manager));
((msg_value) = (100));
(100 <= index);
((((balanceOf$1 )(manager) - msg_value)) : (NAT));
((donated) = (FALSE));
(((depositors_i$1 )(ii)) : (dom(accountOf$2)));
(ii +1 <= 100);
(((depositors_i$1 )(ii)) : (((1..6)*{ADDRESS})));
((((accountOf$2 )((depositors_i$1 )(ii)) + 1)) : (NAT));
not((ii +1 <= 100));
"Loop initialisation";
(((depositors_i$1 )(0)) : (dom(accountOf$1)));
"Loop invariant is preserved";
(((depositors_i$1 )((ii + 1))) : (dom(((accountOf$2) <+ (({(((depositors_i$1 )(ii)) |-> (((accountOf$2 )((depositors_i$1 )(ii)) + 1)))}))))));
"Loop variant is positive";
(0 <= (100 - ii));
"Variant is decreasing";
((100 - (ii + 1)) +1 <= (100 - ii));
"End of loop";
((((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))})))) <+ (({((manager) |-> (((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))}))) )(manager) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((((balanceOf$1) <+ (({((msg_sender) |-> (((balanceOf$1 )(msg_sender) - msg_value)))}\/{(((2|->ADDRESS)) |-> (((balanceOf$1 )((2|->ADDRESS)) + msg_value)))}))) )((2|->ADDRESS)) + msg_value)))})))) = (balanceOf$1));
#(fun).(((fun) : (((((1..6)*{ADDRESS})) +-> (NAT)))) & ((dom(fun)) = (ran(((depositors) |>> (({(1|->ADDRESS)})))))) & !(xx).(((((xx) : (dom(fun)))) => ((((fun )(xx)) = (((accountOf$1 )(xx) + 1)))))) & ((((accountOf$1) <+ (fun))) = (accountOf$2)));
((((balanceOf )((2|->ADDRESS)) + msg_value)) : (NAT));
((((balanceOf )(manager) - msg_value)) : (NAT));
((((balanceOf )(msg_sender) - msg_value)) : (NAT));
"Operation is well defined";
((ii) : (dom(depositors_i$1)));
((depositors_i$1) : (((dom(depositors_i$1)) +-> (ran(depositors_i$1)))))
END
&
THEORY EnumerateX IS
ADDRESS == {addr_0,THIS,addr_1,addr_2,addr_3,addr_4}
END
